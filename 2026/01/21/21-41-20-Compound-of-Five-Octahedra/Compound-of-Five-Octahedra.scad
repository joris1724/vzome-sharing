use <D:\Zometool\Panels\connector.scad>
sc=(4+2*sqrt(5))/cos(16.5);
points=[
[[ -6.26200439882462, -2.92705098312484, 2.92705098312484 ],[ -6.26200439882462, -1.30901699437495, 4.54508497187474 ],[ -6.19402066006213, -3.43232962357485, 2.24460899716229 ],[ -6.19402066006213, -0.803738353924943, 5.22752695783729 ],[ -6.06418327243724, -3.22224831738729, 1.90469030334984 ],[ -6.06418327243724, -1.0138196601125, 5.56744565164974 ],[ -5.85410196624968, -4.23606797749979, 1.61803398874989 ],[ -5.85410196624968, -3.56216701119973, 2.45469030334984 ],[ -5.85410196624968, -3.18672575837461, 3.08753882025019 ],[ -5.85410196624968, -2.66737620787507, 2.7665631459995 ],[ -5.85410196624968, -1.56869176962472, 4.70557280900008 ],[ -5.85410196624968, -1.04934221912518, 4.38459713474939 ],[ -5.85410196624968, -0.673900966300059, 5.01744565164974 ],[ -5.85410196624968, 0, 5.85410196624968 ],[ -5.64402066006213, -3.22224831738729, 1.90469030334984 ],[ -5.64402066006213, -1.0138196601125, 5.56744565164974 ],[ -5.51418327243724, -3.43232962357485, 2.24460899716229 ],[ -5.51418327243724, -0.803738353924943, 5.22752695783729 ],[ -5.44619953367475, -2.92705098312484, 2.92705098312484 ],[ -5.44619953367475, -1.30901699437495, 4.54508497187474 ],[ -5.18020099994963, -3.39941166289984, 1.61803398874989 ],[ -5.05036361232474, -3.6094929690874, 1.27811529493745 ],[ -5.05036361232474, -3.6094929690874, 1.95795268256234 ],[ -4.84028230613718, -3.94941166289984, 1.40795268256234 ],[ -4.84028230613718, -3.94941166289984, 1.82811529493745 ],[ -4.59452769097473, -2.84705098312484, 1.33957427527496 ],[ -4.55106431181261, -3.17705098312484, 0.953850716312652 ],[ -4.23008863756192, -3.17705098312484, 1.47320026681219 ],[ -4.1866252583998, -3.50705098312484, 1.08747670784989 ],[ -1.66747670784989, -0.729016994374947, 0.530557280900008 ],[ -1.62401332868777, -1.05901699437495, 0.144833721937705 ],[ -1.30303765443707, -1.05901699437495, 0.664183272437243 ],[ -1.25957427527496, -1.38901699437495, 0.278459713474939 ],[ -1.0138196601125, -0.28665631459995, -0.210081306187558 ],[ -1.0138196601125, -0.28665631459995, 0.210081306187558 ],[ -0.803738353924943, -0.626575008412392, -0.339918693812442 ],[ -0.803738353924943, -0.626575008412392, 0.339918693812442 ],[ -0.673900966300059, -0.83665631459995, 0 ],[ 0, 0, 0 ]],
[[ -6.26200439882462, 1.30901699437495, 4.54508497187474 ],[ -6.26200439882462, 2.92705098312484, 2.92705098312484 ],[ -6.19402066006213, 0.803738353924943, 5.22752695783729 ],[ -6.19402066006213, 3.43232962357485, 2.24460899716229 ],[ -6.06418327243724, 1.0138196601125, 5.56744565164974 ],[ -6.06418327243724, 3.22224831738729, 1.90469030334984 ],[ -5.85410196624968, 0, 5.85410196624968 ],[ -5.85410196624968, 0.673900966300059, 5.01744565164974 ],[ -5.85410196624968, 1.04934221912518, 4.38459713474939 ],[ -5.85410196624968, 1.56869176962472, 4.70557280900008 ],[ -5.85410196624968, 2.66737620787507, 2.7665631459995 ],[ -5.85410196624968, 3.18672575837461, 3.08753882025019 ],[ -5.85410196624968, 3.56216701119973, 2.45469030334984 ],[ -5.85410196624968, 4.23606797749979, 1.61803398874989 ],[ -5.64402066006213, 1.0138196601125, 5.56744565164974 ],[ -5.64402066006213, 3.22224831738729, 1.90469030334984 ],[ -5.51418327243724, 0.803738353924943, 5.22752695783729 ],[ -5.51418327243724, 3.43232962357485, 2.24460899716229 ],[ -5.44619953367475, 1.30901699437495, 4.54508497187474 ],[ -5.44619953367475, 2.92705098312484, 2.92705098312484 ],[ -5.18020099994963, 3.39941166289984, 1.61803398874989 ],[ -5.05036361232474, 3.6094929690874, 1.27811529493745 ],[ -5.05036361232474, 3.6094929690874, 1.95795268256234 ],[ -4.84028230613718, 3.94941166289984, 1.40795268256234 ],[ -4.84028230613718, 3.94941166289984, 1.82811529493745 ],[ -4.59452769097473, 2.84705098312484, 1.33957427527496 ],[ -4.55106431181261, 3.17705098312484, 0.953850716312652 ],[ -4.23008863756192, 3.17705098312484, 1.47320026681219 ],[ -4.1866252583998, 3.50705098312484, 1.08747670784989 ],[ -1.66747670784989, 0.729016994374947, 0.530557280900008 ],[ -1.62401332868777, 1.05901699437495, 0.144833721937705 ],[ -1.30303765443707, 1.05901699437495, 0.664183272437243 ],[ -1.25957427527496, 1.38901699437495, 0.278459713474939 ],[ -1.0138196601125, 0.28665631459995, -0.210081306187558 ],[ -1.0138196601125, 0.28665631459995, 0.210081306187558 ],[ -0.803738353924943, 0.626575008412392, -0.339918693812442 ],[ -0.803738353924943, 0.626575008412392, 0.339918693812442 ],[ -0.673900966300059, 0.83665631459995, 0 ],[ 0, 0, 0 ]],
[[ -11.7082039324994, 0, 0 ],[ -11.0513850055243, 0.864295634824952, 0 ],[ -10.9097442190244, 0.635116028074889, -0.370820393249937 ],[ -10.9097442190244, 0.635116028074889, 0.370820393249937 ],[ -10.7082039324994, -0.370820393249937, -0.229179606750063 ],[ -10.7082039324994, -0.370820393249937, 0.229179606750063 ],[ -10.7082039324994, 0.370820393249937, -0.229179606750063 ],[ -10.7082039324994, 0.370820393249937, 0.229179606750063 ],[ -10.4671706768869, 1.41901699437495, 0.267000733137436 ],[ -10.4197560814373, 1.05901699437495, 0.687790070187221 ],[ -10.0696008004366, 1.05901699437495, 0.121226924187726 ],[ -10.022186204987, 0.699016994374947, 0.542016261237512 ],[ -7.54011969376207, 3.53705098312484, 1.07601772751238 ],[ -7.49270509831248, 3.17705098312484, 1.49680706456217 ],[ -7.14254981731173, 3.17705098312484, 0.930243918562673 ],[ -7.09513522186214, 2.81705098312484, 1.35103325561246 ],[ -6.88174128647469, 3.97177234267484, 1.38885438199983 ],[ -6.88174128647469, 3.97177234267484, 1.84721359549996 ],[ -6.65256167972462, 3.6009519494249, 1.24721359549996 ],[ -6.65256167972462, 3.6009519494249, 1.98885438199983 ],[ -6.51092089322475, 3.37177234267484, 1.61803398874989 ],[ -5.85410196624968, 4.23606797749979, 1.61803398874989 ],[ -5.19728303927462, 3.37177234267484, 1.61803398874989 ],[ -5.05564225277475, 3.6009519494249, 1.24721359549996 ],[ -5.05564225277475, 3.6009519494249, 1.98885438199983 ],[ -4.82646264602468, 3.97177234267484, 1.38885438199983 ],[ -4.82646264602468, 3.97177234267484, 1.84721359549996 ],[ -4.61306871063723, 2.81705098312484, 1.35103325561246 ],[ -4.56565411518764, 3.17705098312484, 0.930243918562673 ],[ -4.21549883418689, 3.17705098312484, 1.49680706456217 ],[ -4.1680842387373, 3.53705098312484, 1.07601772751238 ],[ -1.68601772751238, 0.699016994374947, 0.542016261237512 ],[ -1.6386031320628, 1.05901699437495, 0.121226924187726 ],[ -1.28844785106204, 1.05901699437495, 0.687790070187221 ],[ -1.24103325561246, 1.41901699437495, 0.267000733137436 ],[ -1, -0.370820393249937, -0.229179606750063 ],[ -1, -0.370820393249937, 0.229179606750063 ],[ -1, 0.370820393249937, -0.229179606750063 ],[ -1, 0.370820393249937, 0.229179606750063 ],[ -0.798459713474939, 0.635116028074889, -0.370820393249937 ],[ -0.798459713474939, 0.635116028074889, 0.370820393249937 ],[ -0.656818926975065, 0.864295634824952, 0 ],[ 0, 0, 0 ]]
];

module triangle(part,a,b,c,indent=5,wall=5,height=8,bottom=8,e1=true,e2=true,e3=true,h1=0,h2=0,h3=0) {
    P=[points[part][a],points[part][b],points[part][c]];
    O=[(P[1][1]-P[0][1])*(P[2][2]-P[0][2])-(P[1][2]-P[0][2])*(P[2][1]-P[0][1]),
       (P[1][2]-P[0][2])*(P[2][0]-P[0][0])-(P[1][0]-P[0][0])*(P[2][2]-P[0][2]),
       (P[1][0]-P[0][0])*(P[2][1]-P[0][1])-(P[1][1]-P[0][1])*(P[2][0]-P[0][0])];
    lO=sqrt(O[0]*O[0]+O[1]*O[1]+O[2]*O[2]);
    N=[[O[0]/lO* height/2/sc        ,O[1]/lO* height/2/sc,         O[2]/lO* height/2/sc],
       [O[0]/lO*(height/2-bottom)/sc,O[1]/lO*(height/2-bottom)/sc, O[2]/lO*(height/2-bottom)/sc],
       [O[0]/lO*(height+indent)/sc,O[1]/lO*(height+indent)/sc, O[2]/lO*(height+indent)/sc]];
    L=[sqrt((P[2][0]-P[1][0])*(P[2][0]-P[1][0])+(P[2][1]-P[1][1])*(P[2][1]-P[1][1])+(P[2][2]-P[1][2])*(P[2][2]-P[1][2])),
       sqrt((P[0][0]-P[2][0])*(P[0][0]-P[2][0])+(P[0][1]-P[2][1])*(P[0][1]-P[2][1])+(P[0][2]-P[2][2])*(P[0][2]-P[2][2])),
       sqrt((P[1][0]-P[0][0])*(P[1][0]-P[0][0])+(P[1][1]-P[0][1])*(P[1][1]-P[0][1])+(P[1][2]-P[0][2])*(P[1][2]-P[0][2]))];
    s=(L[0]+L[1]+L[2])/2;
    A=sqrt(s*(s-L[0])*(s-L[1])*(s-L[2]));
    U=[-(height+indent)*L[0]/A/sc,-(height+indent)*L[1]/A/sc, -(height+indent)*L[2]/A/sc];
    V=[(indent-wall)*L[0]/2/A/sc,(indent-wall)*L[1]/2/A/sc,(indent-wall)*L[2]/2/A/sc];
    W=[indent*L[0]/2/A/sc,indent*L[1]/2/A/sc, indent*L[2]/2/A/sc];
    Q=[[(1-V[1]-V[2])*P[0][0]+V[1]*P[1][0]+V[2]*P[2][0],(1-V[1]-V[2])*P[0][1]+V[1]*P[1][1]+V[2]*P[2][1],(1-V[1]-V[2])*P[0][2]+V[1]*P[1][2]+V[2]*P[2][2]],
       [V[0]*P[0][0]+(1-V[0]-V[2])*P[1][0]+V[2]*P[2][0],V[0]*P[0][1]+(1-V[0]-V[2])*P[1][1]+V[2]*P[2][1],V[0]*P[0][2]+(1-V[0]-V[2])*P[1][2]+V[2]*P[2][2]],
       [V[0]*P[0][0]+V[1]*P[1][0]+(1-V[0]-V[1])*P[2][0],V[0]*P[0][1]+V[1]*P[1][1]+(1-V[0]-V[1])*P[2][1],V[0]*P[0][2]+V[1]*P[1][2]+(1-V[0]-V[1])*P[2][2]],
       [(1-W[2])*P[0][0]+W[2]*P[2][0],(1-W[2])*P[0][1]+W[2]*P[2][1],(1-W[2])*P[0][2]+W[2]*P[2][2]],
       [(1-W[2])*P[1][0]+W[2]*P[2][0],(1-W[2])*P[1][1]+W[2]*P[2][1],(1-W[2])*P[1][2]+W[2]*P[2][2]],
       [W[0]*P[0][0]+(1-W[0])*P[1][0],W[0]*P[0][1]+(1-W[0])*P[1][1],W[0]*P[0][2]+(1-W[0])*P[1][2]],
       [W[0]*P[0][0]+(1-W[0])*P[2][0],W[0]*P[0][1]+(1-W[0])*P[2][1],W[0]*P[0][2]+(1-W[0])*P[2][2]],
       [W[1]*P[1][0]+(1-W[1])*P[2][0],W[1]*P[1][1]+(1-W[1])*P[2][1],W[1]*P[1][2]+(1-W[1])*P[2][2]],
       [(1-W[1])*P[0][0]+W[1]*P[1][0],(1-W[1])*P[0][1]+W[1]*P[1][1],(1-W[1])*P[0][2]+W[1]*P[1][2]]];
    R=[[Q[0][0]-N[0][0],Q[0][1]-N[0][1],Q[0][2]-N[0][2]],
       [Q[1][0]-N[0][0],Q[1][1]-N[0][1],Q[1][2]-N[0][2]],
       [Q[2][0]-N[0][0],Q[2][1]-N[0][1],Q[2][2]-N[0][2]],
       [Q[0][0]-N[1][0],Q[0][1]-N[1][1],Q[0][2]-N[1][2]],
       [Q[1][0]-N[1][0],Q[1][1]-N[1][1],Q[1][2]-N[1][2]],
       [Q[2][0]-N[1][0],Q[2][1]-N[1][1],Q[2][2]-N[1][2]],
       [Q[3][0]-N[0][0],Q[3][1]-N[0][1],Q[3][2]-N[0][2]],
       [Q[4][0]-N[0][0],Q[4][1]-N[0][1],Q[4][2]-N[0][2]],
       [Q[5][0]-N[0][0],Q[5][1]-N[0][1],Q[5][2]-N[0][2]],
       [Q[6][0]-N[0][0],Q[6][1]-N[0][1],Q[6][2]-N[0][2]],
       [Q[7][0]-N[0][0],Q[7][1]-N[0][1],Q[7][2]-N[0][2]],
       [Q[8][0]-N[0][0],Q[8][1]-N[0][1],Q[8][2]-N[0][2]],
       [Q[3][0]+N[0][0],Q[3][1]+N[0][1],Q[3][2]+N[0][2]],
       [Q[4][0]+N[0][0],Q[4][1]+N[0][1],Q[4][2]+N[0][2]],
       [Q[5][0]+N[0][0],Q[5][1]+N[0][1],Q[5][2]+N[0][2]],
       [Q[6][0]+N[0][0],Q[6][1]+N[0][1],Q[6][2]+N[0][2]],
       [Q[7][0]+N[0][0],Q[7][1]+N[0][1],Q[7][2]+N[0][2]],
       [Q[8][0]+N[0][0],Q[8][1]+N[0][1],Q[8][2]+N[0][2]],
       [Q[0][0]+N[1][0],Q[0][1]+N[1][1],Q[0][2]+N[1][2]],
       [Q[1][0]+N[1][0],Q[1][1]+N[1][1],Q[1][2]+N[1][2]],
       [Q[2][0]+N[1][0],Q[2][1]+N[1][1],Q[2][2]+N[1][2]],
       [P[0][0]-N[2][0],P[0][1]-N[2][1],P[0][2]-N[2][2]],
       [P[1][0]-N[2][0],P[1][1]-N[2][1],P[1][2]-N[2][2]],
       [P[2][0]-N[2][0],P[2][1]-N[2][1],P[2][2]-N[2][2]],
       [P[0][0]+N[2][0],P[0][1]+N[2][1],P[0][2]+N[2][2]],
       [P[1][0]+N[2][0],P[1][1]+N[2][1],P[1][2]+N[2][2]],
       [P[2][0]+N[2][0],P[2][1]+N[2][1],P[2][2]+N[2][2]],
       [(1-U[2])*P[0][0]+U[2]*P[2][0],(1-U[2])*P[0][1]+U[2]*P[2][1],(1-U[2])*P[0][2]+U[2]*P[2][2]],
       [(1-U[2])*P[1][0]+U[2]*P[2][0],(1-U[2])*P[1][1]+U[2]*P[2][1],(1-U[2])*P[1][2]+U[2]*P[2][2]],
       [U[0]*P[0][0]+(1-U[0])*P[1][0],U[0]*P[0][1]+(1-U[0])*P[1][1],U[0]*P[0][2]+(1-U[0])*P[1][2]],
       [U[0]*P[0][0]+(1-U[0])*P[2][0],U[0]*P[0][1]+(1-U[0])*P[2][1],U[0]*P[0][2]+(1-U[0])*P[2][2]],
       [U[1]*P[1][0]+(1-U[1])*P[2][0],U[1]*P[1][1]+(1-U[1])*P[2][1],U[1]*P[1][2]+(1-U[1])*P[2][2]],
       [(1-U[1])*P[0][0]+U[1]*P[1][0],(1-U[1])*P[0][1]+U[1]*P[1][1],(1-U[1])*P[0][2]+U[1]*P[1][2]],
       [-P[0][0],-P[0][1],-P[0][2]],
       [-P[1][0],-P[1][1],-P[1][2]],
       [-P[2][0],-P[2][1],-P[2][2]],
       [P[0][0]-P[2][0],P[0][1]-P[2][1],P[0][2]-P[2][2]],
       [P[1][0]-P[0][0],P[1][1]-P[0][1],P[1][2]-P[0][2]],
       [P[2][0]-P[1][0],P[2][1]-P[1][1],P[2][2]-P[1][2]]];


    difference() {
    union() {
        intersection() {
            union() {
                if (e1) {
                    polyhedron(R,faces=[[1,2,9,8],[2,1,19,20],[9,2,20,15],[8,9,15,14],[1,8,14,19],[14,15,20,19]]);
                }  
                if (e2) {
                    polyhedron(R,faces=[[0,1,7,6],[1,0,18,19],[7,1,19,13],[6,7,13,12],[0,6,12,18],[12,13,19,18]]);
                }    
                if (e3) {
                    polyhedron(R,faces=[[2,0,11,10],[0,2,20,18],[11,0,18,17],[10,11,17,16],[2,10,16,20],[16,17,18,20]]);
                }
            }
            polyhedron(R,faces=[[3,4,5],[3,5,20,18],[5,4,19,20],[4,3,18,19],[20,19,18]]);
        }
    polyhedron(R,faces=[[0,1,2],[0,2,5,3],[2,1,4,5],[1,0,3,4],[5,4,3]]);
        }
        union() {
                if (e1) {
                    translate(P[1]) rotate(h1,R[38]) translate(R[34]) polyhedron(R,faces=[[25,29,22],[25,26,30,29],[30,29,22,23],[23,22,25,26],[30,23,26]]);
                }  
                if (e2) {
                    translate(P[0]) rotate(h2,R[37]) translate(R[33]) polyhedron(R,faces=[[24,27,21],[24,25,28,27],[28,27,21,22],[22,21,24,25],[28,22,25]]);
                }    
                if (e3) {
                    translate(P[2]) rotate(h3,R[36]) translate(R[35]) polyhedron(R,faces=[[26,31,23],[26,24,32,31],[32,31,23,21],[21,23,26,24],[32,21,24]]);
                }
        }
    }
}

scale(sc) rotate([54.735610,0,0]) rotate([0,0,135]) difference () {
render() {
    triangle(0,38,6,13,4.8,4.8,8,0.6,true,true,false,-2-70.53/2,2+70.53/2,0);
    triangle(1,38,6,13,4.8,4.8,8,0.6,true,false,true,-2-70.53/2,0,2+70.53/2);
    for(n = [1 : 100]) { translate([-0.0585410196624968*n,0,0.0585410196624968*n]) scale(1/sc) sphere(r=4,$fn=32); };
  }
render() {
    scale([1.1,1.1,1.1]) connector();
    translate([-5.85410196624968,-4.23606797749979,1.61803398874989]) scale([1.1,1.1,1.1]) connector();
    translate([-5.85410196624968,4.23606797749979,1.61803398874989]) scale([1.1,1.1,1.1]) connector();
    translate([-5.85410196624968,0,5.85410196624968]) connector();
    color("#009030") polyhedron(points[0],faces=[[ 28, 23, 24 ],[ 27, 31, 32, 28 ],[ 35, 32, 37 ],[ 32, 31, 37 ],[ 21, 26, 20 ],[ 22, 24, 23, 21, 20 ],[ 25, 22, 20 ],[ 34, 31, 29 ],[ 29, 30, 33 ],[ 34, 29, 33 ],[ 27, 28, 24 ],[ 26, 30, 29, 25 ],[ 35, 30, 32 ],[ 23, 26, 21 ],[ 26, 25, 20 ],[ 36, 34, 33, 35, 37 ],[ 22, 27, 24 ],[ 26, 23, 28 ],[ 25, 29, 31, 27 ],[ 27, 22, 25 ],[ 26, 28, 32, 30 ],[ 31, 36, 37 ],[ 30, 35, 33 ],[ 31, 34, 36 ]]);
    color("#009031") polyhedron(points[0],faces=[[ 10, 15, 19 ],[ 11, 1, 0, 9 ],[ 10, 19, 18, 8 ],[ 19, 15, 17 ],[ 4, 0, 2 ],[ 3, 11, 12 ],[ 9, 4, 14 ],[ 8, 7, 2 ],[ 1, 10, 8, 0 ],[ 16, 8, 18 ],[ 18, 9, 14 ],[ 11, 3, 1 ],[ 10, 1, 5 ],[ 16, 18, 14 ],[ 0, 8, 2 ],[ 12, 11, 17 ],[ 15, 5, 3, 12, 17 ],[ 15, 10, 5 ],[ 19, 11, 9, 18 ],[ 7, 16, 14, 4, 2 ],[ 8, 16, 7 ],[ 4, 9, 0 ],[ 11, 19, 17 ],[ 1, 3, 5 ]]);
    color("#009031") polyhedron(points[1],faces=[[ 11, 3, 12 ],[ 8, 16, 18 ],[ 0, 8, 10, 1 ],[ 15, 10, 19 ],[ 16, 8, 7 ],[ 8, 18, 19, 10 ],[ 3, 11, 1 ],[ 8, 0, 2 ],[ 19, 11, 17 ],[ 11, 12, 17 ],[ 10, 15, 5 ],[ 18, 9, 11, 19 ],[ 0, 4, 2 ],[ 4, 14, 16, 7, 2 ],[ 9, 18, 14 ],[ 4, 9, 14 ],[ 1, 10, 5 ],[ 9, 0, 1, 11 ],[ 15, 19, 17 ],[ 18, 16, 14 ],[ 7, 8, 2 ],[ 9, 4, 0 ],[ 12, 3, 5, 15, 17 ],[ 3, 1, 5 ]]);
    color("#009030") polyhedron(points[1],faces=[[ 31, 37, 36 ],[ 26, 20, 25 ],[ 29, 31, 34 ],[ 37, 31, 32 ],[ 25, 20, 22 ],[ 28, 32, 31, 27 ],[ 27, 31, 29, 25 ],[ 27, 24, 28 ],[ 26, 28, 23 ],[ 33, 30, 29 ],[ 26, 30, 32, 28 ],[ 30, 33, 35 ],[ 36, 37, 35, 33, 34 ],[ 24, 27, 22 ],[ 27, 25, 22 ],[ 37, 32, 35 ],[ 20, 26, 21 ],[ 28, 24, 23 ],[ 33, 29, 34 ],[ 24, 22, 20, 21, 23 ],[ 21, 26, 23 ],[ 32, 30, 35 ],[ 31, 36, 34 ],[ 26, 25, 29, 30 ]]);
    color("#0080C0") polyhedron(points[2] ,faces=[[ 37, 35, 36, 38 ],[ 7, 5, 4, 6 ],[ 5, 36, 35, 4 ],[ 6, 37, 38, 7 ],[ 4, 35, 37, 6 ],[ 7, 38, 36, 5 ]]);
    }
}

use <D:\Zometool\Panels\connector.scad>
sc=(4+2*sqrt(5))/cos(16.5);
points=[
[[ 0, 0, 0 ],[ 0, 1.89442719099992, -1.89442719099992 ],[ 6.85410196624968, -4.95967477524977, -1.89442719099992 ],[ 6.17165998028713, -4.13683812076232, -1.89442719099992 ],[ 0.682441985962556, 1.07159053651247, -1.89442719099992 ],[ 0.806377674149945, 1.27212269241877, -2.21889503509361 ],[ 0.806377674149945, 1.27212269241877, -1.56995934690622 ],[ 1.00690983005625, 1.59659053651247, -2.09495934690622 ],[ 1.00690983005625, 1.59659053651247, -1.69389503509361 ],[ 1.06114561800017, 0.432217261187137, -1.89442719099992 ],[ 1.30901699437495, 0.585410196624969, -2.28378860391235 ],[ 1.30901699437495, 0.585410196624969, -1.50506577808748 ],[ 1.55688837074973, 0.738603132062799, -1.89442719099992 ],[ 5.29721359549996, -3.80385071631265, -1.89442719099992 ],[ 5.54508497187474, -3.65065778087482, -2.28378860391235 ],[ 5.54508497187474, -3.65065778087482, -1.50506577808748 ],[ 5.79295634824952, -3.49746484543699, -1.89442719099992 ],[ 5.84719213619343, -4.66183812076232, -2.09495934690622 ],[ 5.84719213619343, -4.66183812076232, -1.69389503509361 ],[ 6.04772429209974, -4.33737027666863, -2.21889503509361 ],[ 6.04772429209974, -4.33737027666863, -1.56995934690622 ],[ -0.324467844093695, 0.810984227520779, -0.614850938656144 ],[ -0.324467844093695, 1.08804951684997, -1.27212269241877 ],[ -0.200532155906305, 1, -0.309016994374947 ],[ -0.200532155906305, 0.887517360943665, -1.59659053651247 ],[ 0.324467844093695, 1.08804951684997, -1.27212269241877 ],[ 0, 0.687048539333389, -0.815383094562449 ],[ 0, 1.21198520503736, -1.07159053651247 ],[ 0.200532155906305, 1, -0.309016994374947 ],[ 0.200532155906305, 0.887517360943665, -1.59659053651247 ],[ 0.324467844093695, 0.810984227520779, -0.614850938656144 ]],
[[ -0.324467844093695, 0.806377674149945, 0.622304498581143 ],[ -0.324467844093695, 5.32625274926538, 1.71588137289061 ],[ -0.317561144908072, 1.5857358918551, 0.814443869993291 ],[ -0.317561144908072, 1.73536202636842, 0.454102654801578 ],[ -0.317561144908072, 4.39513314213129, 1.88753813169829 ],[ -0.317561144908072, 4.5447592766446, 1.52719691650659 ],[ -0.200532155906305, 1.00690983005625, 0.297836654487449 ],[ -0.200532155906305, 5.12572059335908, 2.0403492169843 ],[ 0, 0, 0 ],[ 0, 0.682441985962556, 0.822836654487449 ],[ 0, 5.43951216287465, 1.53262379212493 ],[ 0, 6.13049516849971, 2.34164078649987 ],[ 0.200532155906305, 1.00690983005625, 0.297836654487449 ],[ 0.200532155906305, 5.12572059335908, 2.0403492169843 ],[ 0.317561144908072, 1.5857358918551, 0.814443869993291 ],[ 0.317561144908072, 1.73536202636842, 0.454102654801578 ],[ 0.317561144908072, 4.39513314213129, 1.88753813169829 ],[ 0.317561144908072, 4.5447592766446, 1.52719691650659 ],[ 0.324467844093695, 0.806377674149945, 0.622304498581143 ],[ 0.324467844093695, 5.32625274926538, 1.71588137289061 ],[ 0.700532155906305, 5.32147817412476, 2.35709163621862 ],[ 0.824467844093695, 5.52201033003106, 2.03262379212493 ],[ 6.02963412215599, -4.35118993678113, -1.58541019662497 ],[ 6.15356981034338, -4.15065778087482, -1.90987804071866 ],[ 6.55463412215599, -4.15065778087482, -1.26094235253127 ],[ 6.67856981034338, -3.95012562496852, -1.58541019662497 ],[ 6.85410196624968, -4.95967477524977, -1.89442719099992 ]]
];


module triangle(part,a,b,c,indent=5,wall=5,height=8,bottom=8,e1=true,e2=true,e3=true,h1=0,h2=0,h3=0) {
    P=[points[part][a],points[part][b],points[part][c]];
    O=[(P[1][1]-P[0][1])*(P[2][2]-P[0][2])-(P[1][2]-P[0][2])*(P[2][1]-P[0][1]),
       (P[1][2]-P[0][2])*(P[2][0]-P[0][0])-(P[1][0]-P[0][0])*(P[2][2]-P[0][2]),
       (P[1][0]-P[0][0])*(P[2][1]-P[0][1])-(P[1][1]-P[0][1])*(P[2][0]-P[0][0])];
    lO=sqrt(O[0]*O[0]+O[1]*O[1]+O[2]*O[2]);
    N=[[O[0]/lO* height/2/sc        ,O[1]/lO* height/2/sc,         O[2]/lO* height/2/sc],
       [O[0]/lO*(height/2-bottom)/sc,O[1]/lO*(height/2-bottom)/sc, O[2]/lO*(height/2-bottom)/sc],
       [O[0]/lO*(height+indent)/sc,O[1]/lO*(height+indent)/sc, O[2]/lO*(height+indent)/sc]];
    L=[sqrt((P[2][0]-P[1][0])*(P[2][0]-P[1][0])+(P[2][1]-P[1][1])*(P[2][1]-P[1][1])+(P[2][2]-P[1][2])*(P[2][2]-P[1][2])),
       sqrt((P[0][0]-P[2][0])*(P[0][0]-P[2][0])+(P[0][1]-P[2][1])*(P[0][1]-P[2][1])+(P[0][2]-P[2][2])*(P[0][2]-P[2][2])),
       sqrt((P[1][0]-P[0][0])*(P[1][0]-P[0][0])+(P[1][1]-P[0][1])*(P[1][1]-P[0][1])+(P[1][2]-P[0][2])*(P[1][2]-P[0][2]))];
    s=(L[0]+L[1]+L[2])/2;
    A=sqrt(s*(s-L[0])*(s-L[1])*(s-L[2]));
    U=[-(height+indent)*L[0]/A/sc,-(height+indent)*L[1]/A/sc, -(height+indent)*L[2]/A/sc];
    V=[(indent-wall)*L[0]/2/A/sc,(indent-wall)*L[1]/2/A/sc,(indent-wall)*L[2]/2/A/sc];
    W=[indent*L[0]/2/A/sc,indent*L[1]/2/A/sc, indent*L[2]/2/A/sc];
    Q=[[(1-V[1]-V[2])*P[0][0]+V[1]*P[1][0]+V[2]*P[2][0],(1-V[1]-V[2])*P[0][1]+V[1]*P[1][1]+V[2]*P[2][1],(1-V[1]-V[2])*P[0][2]+V[1]*P[1][2]+V[2]*P[2][2]],
       [V[0]*P[0][0]+(1-V[0]-V[2])*P[1][0]+V[2]*P[2][0],V[0]*P[0][1]+(1-V[0]-V[2])*P[1][1]+V[2]*P[2][1],V[0]*P[0][2]+(1-V[0]-V[2])*P[1][2]+V[2]*P[2][2]],
       [V[0]*P[0][0]+V[1]*P[1][0]+(1-V[0]-V[1])*P[2][0],V[0]*P[0][1]+V[1]*P[1][1]+(1-V[0]-V[1])*P[2][1],V[0]*P[0][2]+V[1]*P[1][2]+(1-V[0]-V[1])*P[2][2]],
       [(1-W[2])*P[0][0]+W[2]*P[2][0],(1-W[2])*P[0][1]+W[2]*P[2][1],(1-W[2])*P[0][2]+W[2]*P[2][2]],
       [(1-W[2])*P[1][0]+W[2]*P[2][0],(1-W[2])*P[1][1]+W[2]*P[2][1],(1-W[2])*P[1][2]+W[2]*P[2][2]],
       [W[0]*P[0][0]+(1-W[0])*P[1][0],W[0]*P[0][1]+(1-W[0])*P[1][1],W[0]*P[0][2]+(1-W[0])*P[1][2]],
       [W[0]*P[0][0]+(1-W[0])*P[2][0],W[0]*P[0][1]+(1-W[0])*P[2][1],W[0]*P[0][2]+(1-W[0])*P[2][2]],
       [W[1]*P[1][0]+(1-W[1])*P[2][0],W[1]*P[1][1]+(1-W[1])*P[2][1],W[1]*P[1][2]+(1-W[1])*P[2][2]],
       [(1-W[1])*P[0][0]+W[1]*P[1][0],(1-W[1])*P[0][1]+W[1]*P[1][1],(1-W[1])*P[0][2]+W[1]*P[1][2]]];
    R=[[Q[0][0]-N[0][0],Q[0][1]-N[0][1],Q[0][2]-N[0][2]],
       [Q[1][0]-N[0][0],Q[1][1]-N[0][1],Q[1][2]-N[0][2]],
       [Q[2][0]-N[0][0],Q[2][1]-N[0][1],Q[2][2]-N[0][2]],
       [Q[0][0]-N[1][0],Q[0][1]-N[1][1],Q[0][2]-N[1][2]],
       [Q[1][0]-N[1][0],Q[1][1]-N[1][1],Q[1][2]-N[1][2]],
       [Q[2][0]-N[1][0],Q[2][1]-N[1][1],Q[2][2]-N[1][2]],
       [Q[3][0]-N[0][0],Q[3][1]-N[0][1],Q[3][2]-N[0][2]],
       [Q[4][0]-N[0][0],Q[4][1]-N[0][1],Q[4][2]-N[0][2]],
       [Q[5][0]-N[0][0],Q[5][1]-N[0][1],Q[5][2]-N[0][2]],
       [Q[6][0]-N[0][0],Q[6][1]-N[0][1],Q[6][2]-N[0][2]],
       [Q[7][0]-N[0][0],Q[7][1]-N[0][1],Q[7][2]-N[0][2]],
       [Q[8][0]-N[0][0],Q[8][1]-N[0][1],Q[8][2]-N[0][2]],
       [Q[3][0]+N[0][0],Q[3][1]+N[0][1],Q[3][2]+N[0][2]],
       [Q[4][0]+N[0][0],Q[4][1]+N[0][1],Q[4][2]+N[0][2]],
       [Q[5][0]+N[0][0],Q[5][1]+N[0][1],Q[5][2]+N[0][2]],
       [Q[6][0]+N[0][0],Q[6][1]+N[0][1],Q[6][2]+N[0][2]],
       [Q[7][0]+N[0][0],Q[7][1]+N[0][1],Q[7][2]+N[0][2]],
       [Q[8][0]+N[0][0],Q[8][1]+N[0][1],Q[8][2]+N[0][2]],
       [Q[0][0]+N[1][0],Q[0][1]+N[1][1],Q[0][2]+N[1][2]],
       [Q[1][0]+N[1][0],Q[1][1]+N[1][1],Q[1][2]+N[1][2]],
       [Q[2][0]+N[1][0],Q[2][1]+N[1][1],Q[2][2]+N[1][2]],
       [P[0][0]-N[2][0],P[0][1]-N[2][1],P[0][2]-N[2][2]],
       [P[1][0]-N[2][0],P[1][1]-N[2][1],P[1][2]-N[2][2]],
       [P[2][0]-N[2][0],P[2][1]-N[2][1],P[2][2]-N[2][2]],
       [P[0][0]+N[2][0],P[0][1]+N[2][1],P[0][2]+N[2][2]],
       [P[1][0]+N[2][0],P[1][1]+N[2][1],P[1][2]+N[2][2]],
       [P[2][0]+N[2][0],P[2][1]+N[2][1],P[2][2]+N[2][2]],
       [(1-U[2])*P[0][0]+U[2]*P[2][0],(1-U[2])*P[0][1]+U[2]*P[2][1],(1-U[2])*P[0][2]+U[2]*P[2][2]],
       [(1-U[2])*P[1][0]+U[2]*P[2][0],(1-U[2])*P[1][1]+U[2]*P[2][1],(1-U[2])*P[1][2]+U[2]*P[2][2]],
       [U[0]*P[0][0]+(1-U[0])*P[1][0],U[0]*P[0][1]+(1-U[0])*P[1][1],U[0]*P[0][2]+(1-U[0])*P[1][2]],
       [U[0]*P[0][0]+(1-U[0])*P[2][0],U[0]*P[0][1]+(1-U[0])*P[2][1],U[0]*P[0][2]+(1-U[0])*P[2][2]],
       [U[1]*P[1][0]+(1-U[1])*P[2][0],U[1]*P[1][1]+(1-U[1])*P[2][1],U[1]*P[1][2]+(1-U[1])*P[2][2]],
       [(1-U[1])*P[0][0]+U[1]*P[1][0],(1-U[1])*P[0][1]+U[1]*P[1][1],(1-U[1])*P[0][2]+U[1]*P[1][2]],
       [-P[0][0],-P[0][1],-P[0][2]],
       [-P[1][0],-P[1][1],-P[1][2]],
       [-P[2][0],-P[2][1],-P[2][2]],
       [P[0][0]-P[2][0],P[0][1]-P[2][1],P[0][2]-P[2][2]],
       [P[1][0]-P[0][0],P[1][1]-P[0][1],P[1][2]-P[0][2]],
       [P[2][0]-P[1][0],P[2][1]-P[1][1],P[2][2]-P[1][2]]];

    difference() {
        union() {
            intersection() {
                union() {
                    if (e1) {
                        polyhedron(R,faces=[[1,2,9,8],[2,1,19,20],[9,2,20,15],[8,9,15,14],[1,8,14,19],[14,15,20,19]]);
                    }
                    if (e2) {
                        polyhedron(R,faces=[[0,1,7,6],[1,0,18,19],[7,1,19,13],[6,7,13,12],[0,6,12,18],[12,13,19,18]]);
                    }
                    if (e3) {
                        polyhedron(R,faces=[[2,0,11,10],[0,2,20,18],[11,0,18,17],[10,11,17,16],[2,10,16,20],[16,17,18,20]]);
                    }
                }
                polyhedron(R,faces=[[3,4,5],[3,5,20,18],[5,4,19,20],[4,3,18,19],[20,19,18]]);
            }
            polyhedron(R,faces=[[0,1,2],[0,2,5,3],[2,1,4,5],[1,0,3,4],[5,4,3]]);
        }
        union() {
            if (e1) {
                translate(P[1]) rotate(h1,R[38]) translate(R[34]) polyhedron(R,faces=[[25,29,22],[25,26,30,29],[30,29,22,23],[23,22,25,26],[30,23,26]]);
            }
            if (e2) {
                translate(P[0]) rotate(h2,R[37]) translate(R[33]) polyhedron(R,faces=[[24,27,21],[24,25,28,27],[28,27,21,22],[22,21,24,25],[28,22,25]]);
            }
            if (e3) {
                translate(P[2]) rotate(h3,R[36]) translate(R[35]) polyhedron(R,faces=[[26,31,23],[26,24,32,31],[32,31,23,21],[21,23,26,24],[32,21,24]]);
            }
        }
    }
}

scale(sc) rotate([159.094843,0,0]) rotate([0,0,0]) difference () {
render() {
    triangle(0,0,2,1,4,4,8.6,0.6,true,false,true,2+70.53/2,0,2+70.53/2);
    triangle(1,8,11,26,4,4,8.6,0.6,true,true,false,2+41.81/2,0,0);
    for(n = [1 : 100]) { translate([0.068541*n,-0.049597*n,-0.018944*n]) scale(1/sc) sphere(r=4.3,$fn=32); };  
    }

render() {
    translate([0,1.89442719099992,-1.89442719099992]) scale([1.05,1.05,1.05]) connector();
    translate([0,0,0]) scale([1.05,1.05,1.05]) connector();
    translate([0,6.13049516849971,2.34164078649987]) scale([1.05,1.05,1.05]) connector();
    translate([6.85410196624968,-4.95967477524977,-1.89442719099992]) scale([1.05,1.05,1.05]) connector();
    color("#0080C0") polyhedron(points[1],faces=[[ 24, 22, 13, 20 ],[ 25, 23, 22, 24 ],[ 19, 21, 20, 13 ],[ 20, 21, 25, 24 ],[ 19, 13, 22, 23 ],[ 23, 25, 21, 19 ]]);
    color("#6C00C1") polyhedron(points[1],faces=[[ 17, 19, 10 ],[ 16, 17, 15, 14 ],[ 10, 1, 5 ],[ 6, 12, 15, 3 ],[ 19, 13, 7, 1, 10 ],[ 16, 4, 7, 13 ],[ 1, 7, 4 ],[ 18, 14, 15 ],[ 4, 5, 1 ],[ 9, 2, 14 ],[ 0, 2, 9 ],[ 17, 5, 3, 15 ],[ 9, 14, 18 ],[ 19, 17, 16 ],[ 4, 16, 14, 2 ],[ 18, 15, 12 ],[ 19, 16, 13 ],[ 5, 4, 2, 3 ],[ 6, 3, 0 ],[ 3, 2, 0 ],[ 10, 5, 17 ],[ 0, 9, 18, 12, 6 ]]);    translate([6.85410196624968,-4.95967477524977,-1.89442719099992]) scale([1.05,1.05,1.05]) connector();
    color("#008031") polyhedron(points[0],faces=[[ 30, 25, 29 ],[ 23, 28, 30, 26, 21 ],[ 22, 21, 24 ],[ 24, 21, 26 ],[ 22, 23, 21 ],[ 29, 26, 30 ],[ 24, 29, 25, 27, 22 ],[ 27, 23, 22 ],[ 25, 28, 27 ],[ 27, 28, 23 ],[ 25, 30, 28 ],[ 29, 24, 26 ]]);
    color("#009030") polyhedron(points[0],faces=[[ 14, 17, 19 ],[ 15, 20, 18 ],[ 17, 18, 20, 3, 19 ],[ 13, 17, 14 ],[ 13, 15, 18 ],[ 17, 13, 18 ],[ 16, 14, 19 ],[ 16, 20, 15 ],[ 20, 16, 3 ],[ 3, 16, 19 ],[ 13, 14, 10, 9 ],[ 16, 15, 11, 12 ],[ 14, 16, 12, 10 ],[ 15, 13, 9, 11 ],[ 11, 9, 6 ],[ 8, 11, 6 ],[ 5, 9, 10 ],[ 10, 12, 7 ],[ 8, 12, 11 ],[ 5, 10, 7 ],[ 9, 4, 6 ],[ 12, 8, 7 ],[ 9, 5, 4 ],[ 4, 5, 7, 8, 6 ]]);
    }
  
}